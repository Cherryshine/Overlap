{% comment %} <!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>OverLap - ë©”ì¸ ëœë”©í˜ì´ì§€</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
    <link href="https://ai-public.creatie.ai/gen_page/tailwind-custom.css" rel="stylesheet"/>
      <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com/3.4.5?plugins=forms,typography,aspect-ratio,container-queries"></script>
    <!-- Font Awesome CDN -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
    <script src="https://cdn.tailwindcss.com/3.4.5?plugins=forms@0.5.7,typography@0.5.13,aspect-ratio@0.4.2,container-queries@0.1.1"></script>
    <script src="https://ai-public.creatie.ai/gen_page/tailwind-config.min.js" data-color="#000000" data-border-radius="small"></script>
    <script src="/js/layout.js"></script>
    <style>
        .glass-effect { 
          background: rgb(255, 255, 255); 
          backdrop-filter: blur(10px); 
          border: 1px solid rgba(255, 255, 255, 0.3); 
        } 
        .confetti { 
          position: fixed; 
          z-index: 1001;  /* ë†’ì€ z-index ìœ ì§€ */
          top: 0; 
          left: 0; 
          width: 100%; 
          height: 100%; 
          pointer-events: none; 
        }
        .blur-overlay { 
          display: none; 
          position: fixed; 
          top: 0; 
          left: 0; 
          width: 100%; 
          height: 100%; 
          backdrop-filter: blur(5px); 
          z-index: 60; /* ë„¤ë¹„ê²Œì´ì…˜ë°”(z-index: 50)ë³´ë‹¤ ë†’ê²Œ ì„¤ì • */
        }
      </style>
    <style>
        .glass-effect { 
            background: rgba(255, 255, 255, 0.2); 
            backdrop-filter: blur(10px); 
            border: 1px solid rgba(255, 255, 255, 0.3); 
            border-radius: 1rem;
        }
        body, html {
            height: 100%;
            margin: 0;
            display: flex;
            flex-direction: column;
        }
        .content {
            flex-grow: 1;
        }
        footer {
            margin-top: auto; /* í‘¸í„°ë¥¼ í•˜ë‹¨ì— ê³ ì • */
        }

        /* íƒ€ì„ í…Œì´ë¸” css */
        .page-button {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgb(255, 255, 255);
            border-radius: 4px; /* ë‘¥ê·¼ ëª¨ì„œë¦¬ ì‚¬ê°í˜• í˜•íƒœ */
            box-shadow: 0 0 5px rgb(179, 142, 179);
            cursor: pointer;
            flex-shrink: 0;
          }
    
          .page-button:disabled {
            opacity: 0.5;
            cursor: default;
          }
    
          /* ìŠ¤í¬ë¡¤ ì˜ì—­ ë‚´ì— ìƒë‹¨ê³¼ í•˜ë‹¨ì— ê³ ì •ë  ë²„íŠ¼ */
          .page-button-prev {
              position: sticky;
              top: 8px;
              left: 50%;
              transform: translateX(-50%);
              z-index: 10;
          }
    
          .page-button-next {
              position: sticky;
              bottom: 8px;
              left: 50%;
              transform: translateX(-50%);
              z-index: 10;
          }
    
          /* ë°˜ì‘í˜• ì„¤ì • */
          @media (max-width: 629px) {
            .page-button {
              width: 28px;
              height: 28px;
            }
          }
          
 /* ë°˜ì‘í˜• ì„¤ì • */
 @media (max-width: 629px) {
    .page-button {
      width: 28px;
      height: 28px;
    }
  }
  .grid-cell {
    position: relative;
    overflow: hidden;
  }
  
  /* ì‹œê°„ êµ¬ë¶„ì„ ì„ ìœ„í•œ ê°€ìƒ ìš”ì†Œ */
  .grid-cell::before {
    content: '';
    position: absolute;

    left: -8px; /* ë¶€ëª¨ì˜ íŒ¨ë”©ë§Œí¼ ìŒìˆ˜ê°’ */
    right: -8px; /* ë¶€ëª¨ì˜ íŒ¨ë”©ë§Œí¼ ìŒìˆ˜ê°’ */
    top: 0;
    height: 1px;
    background-color: rgb(209, 213, 219);
    z-index: 1;
  }
  
  /* ì‹œê°„ëŒ€ êµ¬ë¶„ì„ (ê²€ì€ìƒ‰ êµµì€ ì„ )ì˜ ê²½ìš° */
  .grid-cell.hour-mark::before {
    height: 1.2px;
    background-color: rgb(157, 101, 203);
  }
  
  /* ì²« ë²ˆì§¸ í–‰ì˜ ì…€ì€ border ì œê±° */
  .grid-row-first .grid-cell::before {
    display: none;

  }

        /* ì»¤ìŠ¤í…€ ì²´í¬ë°•ìŠ¤ ìŠ¤íƒ€ì¼ */
        .custom-checkbox {
            position: relative;
            display: inline-flex;
            align-items: center;
            cursor: pointer;
        }

        .custom-checkbox input {
            position: absolute;
            opacity: 0;
            cursor: pointer;
        }

        .checkmark {
            position: relative;
            height: 18px;          /* 15pxì—ì„œ 18pxë¡œ ì¡°ì • */
            width: 18px;           /* 15pxì—ì„œ 18pxë¡œ ì¡°ì • */
            background-color: #fff;
            border: 2px solid #9333ea;
            border-radius: 50%;
            margin-right: 8px;
        }


        .custom-checkbox input:checked ~ .checkmark {
            background-color: #9333ea;
        }

        .checkmark:after {
            content: "";
            position: absolute;
            display: none;
            left: 5px;            /* 4pxì—ì„œ 6pxë¡œ ì¡°ì • */
            top: 2px;             /* 1pxì—ì„œ 2pxë¡œ ì¡°ì • */
            width: 4px;           /* 3pxì—ì„œ 4pxë¡œ ì¡°ì • */
            height: 9px;          /* 7pxì—ì„œ 9pxë¡œ ì¡°ì • */
            border: solid white;
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
        }

        .custom-checkbox input:checked ~ .checkmark:after {
            display: block;
        }

        /* ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ë¥¼ ìœ„í•œ #app ìŠ¤íƒ€ì¼ */
        #app {
            padding: 1rem; /* Tailwindì˜ p-4ì™€ ë™ì¼ */
            overflow: visible;
            transition: max-height 0.4s ease, opacity 0.4s ease, padding 0.4s ease, margin 0.4s ease;
            max-height: 1000px;
            opacity: 1;
        }
        #app.collapsed {
            max-height: 0 !important;
            opacity: 0 !important;
            padding-top: 0 !important;
            padding-bottom: 0 !important;
            margin: 0 !important;
            overflow: hidden !important; /* ì²´í¬ë°•ìŠ¤ í´ë¦­ ì‹œ overflowë¥¼ hiddenìœ¼ë¡œ ë³€ê²½ */
        }

        body {
            background-size: 100% auto;  /* ë„ˆë¹„ 100%, ë†’ì´ëŠ” ìë™ìœ¼ë¡œ ì¡°ì • */
            background-repeat: no-repeat;
            min-height: 100%;  /* ìµœì†Œ ë†’ì´ë¥¼ 100%ë¡œ ì„¤ì • */
        }

        body, html {
            height: auto;  /* ê³ ì • ë†’ì´ ëŒ€ì‹  ìë™ìœ¼ë¡œ ì¡°ì • */
            margin: 0;
            display: flex;
            flex-direction: column;
        }
    </style>
    <style>

        @keyframes float {
            0% { transform: translateY(0); }
            50% { transform: translateY(-2px); }
            100% { transform: translateY(0); }
        }
        .logo-animation {
            animation: float 2s ease-in-out infinite;
        }
        

    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-purple-200 via-purple-300 to-purple-400">
      <!-- Confetti ìº”ë²„ìŠ¤ -->
  <canvas class="confetti"></canvas>

  <!-- Blur Overlay -->
  <div class="blur-overlay"></div>

      <div th:replace="~{/nav :: nav}"></div>
    
    <div class="container mx-auto px-4 sm:px-6 md:px-8 lg:px-[60px] pt-[84px] sm:pt-[150px] pb-[50px] min-h-[calc(100vh-80px)] max-w-4xl content">
        
        <div id="scheduleContainer" class="glass-effect rounded-3xl p-8">
            
            <!-- ê¸°ì¡´ ë‚´ìš© -->
            <p class="text-purple-800 mb-[15px] text-3xl"><a class="text-purple-800 mb-[15px] font-bold text-3xl">ëŒ€ë©´íšŒì˜</a> ê·¸ë£¹ ì¼ì •</p>
            <div class="text-purple-800 font-bold mb-[5px]">ê·¸ë£¹ì¥ì˜ ì‹œê°„ ì„ íƒ</div>
            <!-- ê·¸ë£¹ì¥ ì²´í¬ë°•ìŠ¤ ì„ íƒì‹œ ì• ë‹ˆë©”ì´ì…˜ -->
            <label class="custom-checkbox">
                <input type="checkbox" id="noTimeSelection">
                <span class="checkmark"></span>
                <span class="text-purple-800 text-sm">ê·¸ë£¹ì¥ì€ ì¼ì •ì— ì°¸ì—¬í•˜ì§€ ì•Šì•„ìš”</span>
            </label>
            <!-- íƒ€ì„ í…Œì´ë¸” -->
            <div id="app" class="max-w-5xl w-full p-4 bg-purple-50 rounded-lg shadow relative"></div>
            <!-- (1) ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ ë¡œë“œ -->
            <script src="/js/select_constructor_time.js"></script>

            <!-- (2) JSON ë°ì´í„° ë° ì´ˆê¸°í™” ë¡œì§ -->
            <script>
                const jsonData = {
                    startTime: "09:00",
                    endTime: "16:00",
                    interval: 15,
                    days: [
                        { label: "Sun", date: "Feb 9" },
                        { label: "Mon", date: "Feb 10" },
                        { label: "Tue", date: "Feb 11" },
                        { label: "Wed", date: "Feb 12" },
                        { label: "Thu", date: "Feb 13" },
                        { label: "Fri", date: "Feb 14" },
                        { label: "Sat", date: "Feb 15" },
                        { label: "Sun", date: "Feb 16" },
                        { label: "Mon", date: "Feb 17" },
                        { label: "Tue", date: "Feb 18" },
                        { label: "Wed", date: "Feb 19" },
                        { label: "Thu", date: "Feb 20" },
                        { label: "Fri", date: "Feb 21" },
                        { label: "Sat", date: "Feb 22" },
                        { label: "Wed", date: "Feb 12" },
                        { label: "Thu", date: "Feb 13" },
                        { label: "Fri", date: "Feb 14" },
                        { label: "Sat", date: "Feb 15" },
                        { label: "Sun", date: "Feb 16" },
                        { label: "Mon", date: "Feb 17" },
                        { label: "Tue", date: "Feb 18" },
                        { label: "Wed", date: "Feb 19" },
                        { label: "Thu", date: "Feb 20" },
                        { label: "Fri", date: "Feb 21" }
                    ]
                };

                let currentPage = 0;
                let itemsPerPage = window.innerWidth <= 629 ? 3 : 5;

                document.addEventListener("DOMContentLoaded", function () {
                    updateSchedule();

                    // ë°˜ì‘í˜• ë¦¬ì‚¬ì´ì§• ê°ì§€
                    window.addEventListener("resize", function () {
                        const newItemsPerPage = window.innerWidth <= 629 ? 3 : 7;
                        if (newItemsPerPage !== itemsPerPage) {
                            itemsPerPage = newItemsPerPage;
                            currentPage = 0;
                            updateSchedule();
                        }
                    });
                });

                // ì²´í¬ë°•ìŠ¤ í´ë¦­ ì´ë²¤íŠ¸ (ì• ë‹ˆë©”ì´ì…˜ ì ìš©)
                document.getElementById('noTimeSelection').addEventListener('change', function() {
                    const appDiv = document.getElementById('app');
                    const completeButton = document.querySelector('.w-full.py-3.bg-purple-700'); // ì™„ë£Œ ë²„íŠ¼ ì„ íƒì
                    
                    if (this.checked) {
                        // display ëŒ€ì‹  collapse í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í•˜ì—¬ ì• ë‹ˆë©”ì´ì…˜ì„ ì ìš©
                        appDiv.classList.add('collapsed');
                        if (completeButton) {
                            completeButton.style.marginTop = '15px';
                        }
                    } else {
                        appDiv.classList.remove('collapsed');
                        if (completeButton) {
                            completeButton.style.marginTop = '30px';
                        }
                    }
                });
            </script>
            <button class="w-full py-3 bg-purple-700 text-white rounded-xl mt-[30px]" id="triggerPopup">ì™„ë£Œ</button>
        </div>
    </div>

    <footer class="bg-purple-800 text-white py-6">
        <div class="container mx-auto text-center">
            <p class="text-sm">&copy; Made with ğŸ’œ by í¼í”Œì½”ë“œë©ìŠ¤</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // í˜ì´ì§€ê°€ ë¡œë“œëœ í›„ ì ì‹œ ì§€ì—°ì„ ì£¼ì–´ ìŠ¤í¬ë¡¤ ì´ë™
            setTimeout(function() {
                window.scrollTo(0, 0); // ìŠ¤í¬ë¡¤ì„ ìµœìƒë‹¨ìœ¼ë¡œ
            }, 100); // 100ms ì •ë„ ì§€ì—°ì‹œì¼œì¤Œìœ¼ë¡œì¨ í˜ì´ì§€ ë ˆì´ì•„ì›ƒ ì•ˆì •í™” í›„ ì‹¤í–‰
        });
    </script>

    <!-- ì»¨í˜í‹° íŒì—… -->
       <!-- ì¼ì • ìƒì„± íŒì—… -->
  <div id="successMessage" class="fixed inset-0 flex items-center justify-center z-[999] hidden">
    <div class="glass-effect p-8 rounded-2xl text-center bg-white/30 backdrop-blur-xl shadow-xl border border-white/40">
      <i class="fas fa-check-circle text-5xl text-green-500 mb-4"></i>
      <h3 class="text-2xl font-bold text-purple-900 mb-2">ì¼ì •ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!</h3>
      <p class="text-purple-800 mb-4">ë‹¤ìŒ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.</p>
    </div>
  </div>

  <!-- canvas-confetti ë¼ì´ë¸ŒëŸ¬ë¦¬ -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <script>
    document.getElementById('triggerPopup').addEventListener('click', function() {
      // Blur Overlay ë³´ì´ê¸°
      document.querySelector('.blur-overlay').style.display = 'flex';
      
      // ì»¨í˜í‹° ì‹¤í–‰
      confetti({
        particleCount: 100,
        spread: 70,
        origin: { y: 0.6 }
      });
      
      // ì¼ì • ìƒì„± íŒì—… ë³´ì´ê¸°
      document.getElementById('successMessage').style.display = 'flex';
    });
  </script>
</body>
</html> {% endcomment %}
